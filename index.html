<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remix Shader</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <script id="fragmentShader" type="x-shader/x-fragment">
        uniform vec2 u_resolution;
        uniform float u_time;

        void main() {
            vec2 r = u_resolution;
            vec2 FC = gl_FragCoord.xy;
            float t = u_time;
            float o = 0.0;
            float PI = 3.14159265359;

            for(float i,g,k,e,s,q;i++<1e2;o+=.01/exp(q*i)){
                vec3 p=vec3((FC.xy-r*.5)/r.y*g,g-4.);
                p.zy*=mat2(cos(k=t*.3),-sin(k),sin(k),cos(k));
                p=vec3(log(q=s=length(p))-k,p.y/s,atan(p.x,p.z)+k)/PI*9.;
                k=p.y--;
                for(int j;j++<9;p/=e)p-=sign(p=mod(++p,2.)-1.)*.02*k*k*log(8./s),q*=e=dot(p,p);
                g+=q*.05;
            }

            gl_FragColor = vec4(vec3(o), 1.0);
        }
    </script>

    <script>
        let camera, scene, renderer, material;
        let uniforms;

        init();
        animate();

        function init() {
            camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
            scene = new THREE.Scene();

            let geometry = new THREE.PlaneBufferGeometry(2, 2);

            uniforms = {
                u_time: { value: 1.0 },
                u_resolution: { value: new THREE.Vector2() }
            };

            material = new THREE.ShaderMaterial({
                uniforms: uniforms,
                fragmentShader: document.getElementById('fragmentShader').textContent
            });

            let mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);

            renderer = new THREE.WebGLRenderer();
            renderer.setPixelRatio(window.devicePixelRatio);
            document.body.appendChild(renderer.domElement);

            onWindowResize();
            window.addEventListener('resize', onWindowResize, false);
        }

        function onWindowResize() {
            renderer.setSize(window.innerWidth, window.innerHeight);
            uniforms.u_resolution.value.x = renderer.domElement.width;
            uniforms.u_resolution.value.y = renderer.domElement.height;
        }

        function animate() {
            requestAnimationFrame(animate);
            uniforms.u_time.value += 0.05;
            renderer.render(scene, camera);
        }
    </script>
</body>
</html>
